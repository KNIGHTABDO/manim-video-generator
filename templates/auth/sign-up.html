{% extends "base.html" %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500">
    <div class="max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg">
        <div>
            <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
                Create your account
            </h2>
            <p class="mt-2 text-center text-sm text-gray-600">
                Or
                <a href="/auth/sign-in" class="font-medium text-indigo-600 hover:text-indigo-500">
                    sign in to your account
                </a>
            </p>
        </div>
        
        <div id="sign-up"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    window.addEventListener('load', async function() {
        try {
            // Wait for Clerk to be initialized
            while (!window.clerk) {
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            // Mount sign-up component
            const signUp = window.clerk.mountSignUp({
                targetId: 'sign-up',
                afterSignUpUrl: '/settings',
                signInUrl: '/auth/sign-in',
                appearance: {
                    elements: {
                        formButtonPrimary: 'bg-indigo-600 hover:bg-indigo-700',
                        footerActionLink: 'text-indigo-600 hover:text-indigo-500',
                        socialButtonsBlockButton: 'border-gray-300 text-gray-700 hover:bg-gray-50',
                        socialButtonsBlockButtonText: 'text-gray-700',
                        dividerLine: 'bg-gray-300',
                        dividerText: 'text-gray-500'
                    }
                }
            });
        } catch (error) {
            console.error('Error mounting sign-up:', error);
        }
    });
</script>
{% endblock %}
